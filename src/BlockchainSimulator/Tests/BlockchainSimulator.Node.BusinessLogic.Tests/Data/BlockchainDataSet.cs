using BlockchainSimulator.Node.DataAccess.Converters;
using BlockchainSimulator.Node.DataAccess.Model;
using Newtonsoft.Json;
using Xunit;

namespace BlockchainSimulator.Node.BusinessLogic.Tests.Data
{
    public class BlockchainDataSet
    {
        public static TheoryData<BlockchainTree> BlockchainData => new TheoryData<BlockchainTree>
        {
            JsonConvert.DeserializeObject<BlockchainTree>(
                "{\"blocks\": [{\"body\": {\"merkleTree\": {\"hash\": \"075e2ee940f291540722d8c3ea2433a9e4806a8b4dfb3a58d7fd338774e0bb66\",\"leftNode\": {\"hash\": \"d14c0aec309cd0a9ab033e367dc0a6301315dc7015110a6f45ed20587a9c5c15\",\"transactionId\": \"1\"},\"rightNode\": null},\"transactionCounter\": 1,\"transactions\": [{\"amount\": 1000.0,\"fee\": 0.0,\"id\": \"1\",\"recipient\": \"11111111\",\"sender\": \"00000000\"}]},\"header\": {\"merkleTreeRootHash\": \"075e2ee940f291540722d8c3ea2433a9e4806a8b4dfb3a58d7fd338774e0bb66\",\"nonce\": \"cb14\",\"parentHash\": null,\"target\": \"0000\",\"timeStamp\": \"2018-08-09T13:02:10.8322968Z\",\"version\": \"POW-v1\"},\"id\": \"0\",\"isGenesis\": true}, {\"body\": {\"merkleTree\": {\"hash\": \"b6a350ceb8531ecb0c087a94f0abdf017543c5f65bd71c893e21a77a5d31b53b\",\"leftNode\": {\"hash\": \"1a8643e8166cdb58905c59cdf10e95a5d42b5d457010ad27f24a537590b516f8\",\"leftNode\": {\"hash\": \"613974ecb56c33adc705b4e3321bd578f88d477450597b31242137e86859f3c8\",\"transactionId\": \"3\"},\"rightNode\": {\"hash\": \"bab53b9225cb26ba4d6640c6a087a81453e4afca9d9d35e02b1613c612c9c209\",\"transactionId\": \"1\"}},\"rightNode\": {\"hash\": \"a2014d0db16323408a2704a250649ab0f7690e2e1b975a3b37911993bb63709b\",\"leftNode\": {\"hash\": \"2f46fbc27b844e1d2f94c077bc518ba313fb23feab1bb4b16f23da6d8e8d3eb3\",\"transactionId\": \"2\"},\"rightNode\": null}},\"transactionCounter\": 3,\"transactions\": [{\"amount\": 11.0,\"fee\": 0.5,\"id\": \"1\",\"recipient\": \"33333333\",\"sender\": \"11111111\"}, {\"amount\": 12.0,\"fee\": 0.1,\"id\": \"2\",\"recipient\": \"22222222\",\"sender\": \"11111111\"}, {\"amount\": 13.1,\"fee\": 0.65,\"id\": \"3\",\"recipient\": \"44444444\",\"sender\": \"11111111\"}]},\"header\": {\"merkleTreeRootHash\": \"b6a350ceb8531ecb0c087a94f0abdf017543c5f65bd71c893e21a77a5d31b53b\",\"nonce\": \"1b4c\",\"parentHash\": \"0000d82da1c178b9bd1c45ce4dfc35c3ad5009df8399ed05d15ab807838ea032\",\"target\": \"0000\",\"timeStamp\": \"2018-08-09T13:02:13.2590541Z\",\"version\": \"POW-v1\"},\"id\": \"1\",\"isGenesis\": false,\"parentId\": \"0\"}, {\"body\": {\"merkleTree\": {\"hash\": \"527f2414cd36a489c11d018f71dad8ba609ae1a7781a103c1ba5bf249ac5de87\",\"leftNode\": {\"hash\": \"2bf9e9583aa07d912bfd13203f60dd080b2ab2c3d0e828d9a61aa17a28fb2e15\",\"leftNode\": {\"hash\": \"f856fd9e237f597cd69f9d81e9532d866dee721a1023b7a098d2472d7fcb2898\",\"leftNode\": {\"hash\": \"e5422c35f61d93a8123e3b5eb201a108ed84067cc17b7deadfb49175dd665860\",\"transactionId\": \"4\"},\"rightNode\": {\"hash\": \"37199a2afb066a742d3d876acfca44808d944575225c78930c39a667e8af8b39\",\"transactionId\": \"3\"}},\"rightNode\": {\"hash\": \"05615a4f5e18817f431e536f40a36b18ab105ddb94ddafa8aaaafb86cdd51e06\",\"leftNode\": {\"hash\": \"ca22b7d2d38589776648079d9597cbeb0fd9325d9bc1a6bc1797e5ce83fc9008\",\"transactionId\": \"5\"},\"rightNode\": {\"hash\": \"d14c0aec309cd0a9ab033e367dc0a6301315dc7015110a6f45ed20587a9c5c15\",\"transactionId\": \"1\"}}},\"rightNode\": {\"hash\": \"885a3c29b1a4fcb3972d7dc1a0dcb4c6d109fb49479d91748c1e82dd1f0df51f\",\"leftNode\": {\"hash\": \"09522a2e6262cb3a21fc40a93759c083cde82f141a8b7b398a24acf1561be7bf\",\"leftNode\": {\"hash\": \"91b118f6d1354c09e1c9f60cda1dd62769f840766f262c8bde0e422b23d677b9\",\"transactionId\": \"2\"},\"rightNode\": null},\"rightNode\": null}},\"transactionCounter\": 5,\"transactions\": [{\"amount\": 1000.0,\"fee\": 0.0,\"id\": \"1\",\"recipient\": \"11111111\",\"sender\": \"00000000\"}, {\"amount\": 1000.0,\"fee\": 0.0,\"id\": \"2\",\"recipient\": \"22222222\",\"sender\": \"00000000\"}, {\"amount\": 20.0,\"fee\": 0.1,\"id\": \"3\",\"recipient\": \"33333333\",\"sender\": \"11111111\"}, {\"amount\": 15.0,\"fee\": 0.2,\"id\": \"4\",\"recipient\": \"33333333\",\"sender\": \"22222222\"}, {\"amount\": 3.1,\"fee\": 0.05,\"id\": \"5\",\"recipient\": \"11111111\",\"sender\": \"33333333\"}]},\"header\": {\"merkleTreeRootHash\": \"527f2414cd36a489c11d018f71dad8ba609ae1a7781a103c1ba5bf249ac5de87\",\"nonce\": \"476c\",\"parentHash\": \"000094c49997b4370bf903f8af3734f04aa1bcc8faca3aea136b44172a92cdc8\",\"target\": \"0000\",\"timeStamp\": \"2018-08-09T13:02:13.7650035Z\",\"version\": \"POW-v1\"},\"id\": \"2\",\"isGenesis\": false,\"parentId\": \"1\"}]}",
                new JsonSerializerSettings
                {
                    Converters = new JsonConverter[] {new BlockConverter(), new NodeConverter()}
                }),

            JsonConvert.DeserializeObject<BlockchainTree>(
                "{ \"blocks\": [{\"isGenesis\":true,\"id\":\"0\",\"body\":{\"merkleTree\":{\"leftNode\":{\"transactionId\":\"1\",\"hash\":\"d14c0aec309cd0a9ab033e367dc0a6301315dc7015110a6f45ed20587a9c5c15\"},\"rightNode\":null,\"hash\":\"075e2ee940f291540722d8c3ea2433a9e4806a8b4dfb3a58d7fd338774e0bb66\"},\"transactions\":[{\"id\":\"1\",\"sender\":\"00000000\",\"recipient\":\"11111111\",\"amount\":1000.0,\"fee\":0.0}],\"transactionCounter\":1},\"header\":{\"version\":\"POW-v1\",\"parentHash\":null,\"merkleTreeRootHash\":\"075e2ee940f291540722d8c3ea2433a9e4806a8b4dfb3a58d7fd338774e0bb66\",\"timeStamp\":\"2018-08-09T13:30:31.7159213Z\",\"target\":\"0000\",\"nonce\":\"18885\"}},{\"parentId\":\"0\",\"isGenesis\":false,\"id\":\"1\",\"body\":{\"merkleTree\":{\"leftNode\":{\"leftNode\":{\"leftNode\":{\"transactionId\":\"4\",\"hash\":\"e5422c35f61d93a8123e3b5eb201a108ed84067cc17b7deadfb49175dd665860\"},\"rightNode\":{\"transactionId\":\"3\",\"hash\":\"37199a2afb066a742d3d876acfca44808d944575225c78930c39a667e8af8b39\"},\"hash\":\"f856fd9e237f597cd69f9d81e9532d866dee721a1023b7a098d2472d7fcb2898\"},\"rightNode\":{\"leftNode\":{\"transactionId\":\"5\",\"hash\":\"ca22b7d2d38589776648079d9597cbeb0fd9325d9bc1a6bc1797e5ce83fc9008\"},\"rightNode\":{\"transactionId\":\"1\",\"hash\":\"d14c0aec309cd0a9ab033e367dc0a6301315dc7015110a6f45ed20587a9c5c15\"},\"hash\":\"05615a4f5e18817f431e536f40a36b18ab105ddb94ddafa8aaaafb86cdd51e06\"},\"hash\":\"2bf9e9583aa07d912bfd13203f60dd080b2ab2c3d0e828d9a61aa17a28fb2e15\"},\"rightNode\":{\"leftNode\":{\"leftNode\":{\"transactionId\":\"2\",\"hash\":\"91b118f6d1354c09e1c9f60cda1dd62769f840766f262c8bde0e422b23d677b9\"},\"rightNode\":null,\"hash\":\"09522a2e6262cb3a21fc40a93759c083cde82f141a8b7b398a24acf1561be7bf\"},\"rightNode\":null,\"hash\":\"885a3c29b1a4fcb3972d7dc1a0dcb4c6d109fb49479d91748c1e82dd1f0df51f\"},\"hash\":\"527f2414cd36a489c11d018f71dad8ba609ae1a7781a103c1ba5bf249ac5de87\"},\"transactions\":[{\"id\":\"1\",\"sender\":\"00000000\",\"recipient\":\"11111111\",\"amount\":1000.0,\"fee\":0.0},{\"id\":\"2\",\"sender\":\"00000000\",\"recipient\":\"22222222\",\"amount\":1000.0,\"fee\":0.0},{\"id\":\"3\",\"sender\":\"11111111\",\"recipient\":\"33333333\",\"amount\":20.0,\"fee\":0.1},{\"id\":\"4\",\"sender\":\"22222222\",\"recipient\":\"33333333\",\"amount\":15.0,\"fee\":0.2},{\"id\":\"5\",\"sender\":\"33333333\",\"recipient\":\"11111111\",\"amount\":3.1,\"fee\":0.05}],\"transactionCounter\":5},\"header\":{\"version\":\"POW-v1\",\"parentHash\":\"0000c7a95ca1bdf4402335d53519ffbbd3d44b4f545bb8494c9237bb2b56826f\",\"merkleTreeRootHash\":\"527f2414cd36a489c11d018f71dad8ba609ae1a7781a103c1ba5bf249ac5de87\",\"timeStamp\":\"2018-08-09T13:30:36.2249213Z\",\"target\":\"0000\",\"nonce\":\"231f\"}}]}",
                new JsonSerializerSettings
                {
                    Converters = new JsonConverter[] {new BlockConverter(), new NodeConverter()}
                })
        };
    }
}